<%= javascript_include_tag "suggest", :plugin => 'incsearch'  %>
<%= javascript_include_tag "incsearch", :plugin => 'incsearch'  %>
<%= stylesheet_link_tag 'incsearch', :plugin => 'incsearch' %>

  <!--label>Customer Name</label>
    <input id="custName" type="text" name="pattern" value="" autocomplete="off" size="10" style="display: block" -->
  <div id="suggest" style="display:none; position:absolute;"></div>

  Test list view.
  <div id="view_area"></div>

<script>

var list = [
  'toyota', 'nissan', 'subaru'
];



var position = document.getElementById("suggest");
var refPosition = document.getElementById("issue_subject");

try
  {
   position.style.top = (refPosition.offsetTop + refPosition.offsetHeight)+"px";
   position.style.left   = refPosition.offsetLeft+"px";
   position.style.zIndex = refPosition.style.zIndex;
  }
catch(e)
  {
    alert("Sorry!");
  }


function startSuggest() {
  new Suggest.Local(
        //"custName",//input id
        "issue_subject",//input id
        "suggest", //output id 
        list,      //customer list 
        {dispMax: 10, interval: 1000}); //option
}
window.addEventListener ?
  window.addEventListener('load', startSuggest, false) :
  window.attachEvent('onload', startSuggest);



function startIncSearch() {
  new IncSearch.ViewList(
    //"custName",//input id
    "issue_subject",//input id
    'view_area', //
    list,        //
    {dispMax: 10, interval: 1000}); // 
}
window.addEventListener ?
  window.addEventListener('load', startIncSearch, false) :
  window.attachEvent('onload', startIncSearch);
</script>
